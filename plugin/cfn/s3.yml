---

AWSTemplateFormatVersion: '2010-09-09'
Parameters:
  pThornSnsTopic:
    Type: String
  pBucketToMonitor:
    Type: String
Resources:
  # Set up a demo bucket to monitor as new objects are PUT
  ThornS3Bucket:
    Type: AWS::S3::Bucket
    Properties:
      AccessControl: BucketOwnerFullControl
      BucketName: !Ref pBucketToMonitor
      NotificationConfiguration:
        TopicConfigurations:
        - Topic: !Ref pThornSnsTopic
          Event: s3:ObjectCreated:Put
Outputs:
  BucketName:
    Value: !Ref ThornS3Bucket
    Description: Name of the S3 bucket with a notification configuration.
